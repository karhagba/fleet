####################################################################
# 
# Script: AEPFLEETREQSTATDATE (in Python)
# Description: AEP - Update Approval Date/Time on Change of Status
# Object: AEPFLEETREQAPPR
#
# Launch Point(s):
# (1.) AEPFLEETREQSTATDATE_APPROVERLEV (Attribute)
# Trigged on change to AEPFLEETREQAPPR.APPROVERLEV
#
# (2.) AEPFLEETREQSTATDATE_APPROVERID (Attribute)
# Trigged on change to AEPFLEETREQAPPR.APPROVERID
#
# (3.) AEPFLEETREQSTATDATE_STATUS (Attribute)
# Trigged on change to AEPFLEETREQAPPR.STATUS
# ####################################################################

# Logic to update Change Date/Time to current System Date/Time when ApproverLevel, ApproverID or Status is changed on the Approver Table.

from java.util import Date
from psdi.mbo import MboConstants

approverLev = mbo.getString("APPROVERLEV")
approverID = mbo.getString("APPROVERID")
currentStatus = mbo.getString("STATUS")

apprValueChanged = (approverLev != approverLev) or (approverID != approverID) or (currentStatus != currentStatus)

currentDate = Date()

if apprValueChanged: 
	mbo.setValue("STATUSDATE", currentDate, MboConstants.NOACCESSCHECK)
